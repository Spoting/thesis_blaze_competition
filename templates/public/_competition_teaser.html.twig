{#
    This partial renders a lightweight competition item card (teaser).
    It expects the following variables:
    - competition: The Competition entity object to display.
    - statusLabels: An array/map of status keys to their human-readable labels (e.g., {'scheduled': 'Scheduled'}).
    - showSubmitButton: (Optional, defaults to false) Boolean. If true, the 'Δήλωση Συμμετοχής' button is rendered.
#}
{% set showSubmitButton = showSubmitButton|default(false) %}

<div class="bg-white p-4 rounded-xl shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-300 h-full flex flex-col justify-between">
	<div>

		<h3 class="text-xl font-semibold text-gray-800 mb-2">
			{{ competition.title }}
        </h3>
		<div
			class="flex items-center text-sm text-gray-600 mb-3">
			{# Dynamic Font Awesome Icon based on competition status #}
			{% set statusIconClass = '' %}
			{% if competition.status == 'scheduled' %}
				{% set statusIconClass = 'fa-solid fa-calendar-alt' %}
			{% elseif competition.status == 'running' %}
				{% set statusIconClass = 'fa-solid fa-play-circle' %}
			{% elseif competition.status == 'submissions_ended' %}
				{% set statusIconClass = 'fa-solid fa-hourglass-end' %}
			{% elseif competition.status == 'winners_announced' %}
				{% set statusIconClass = 'fa-solid fa-trophy' %}
			{% elseif competition.status == 'archived' %}
				{% set statusIconClass = 'fa-solid fa-box-archive' %}
			{% elseif competition.status == 'cancelled' %}
				{% set statusIconClass = 'fa-solid fa-circle-xmark' %}
			{% endif %}

			{% if statusIconClass %}
				<i class="{{ statusIconClass }} text-blue-500 mr-2"></i>
			{% endif %}
			<span>Status:
				<span class="font-medium capitalize">{{ statusLabels[competition.status]|default(competition.status)|capitalize }}</span>
			</span>
		</div>
		<p
			class="text-gray-700 text-sm mb-4">
			<strong>Prizes:</strong>
			{{ competition.prizes|striptags|slice(0, 150) }}{{ competition.prizes|length > 150 ? '...' : '' }}
		</p>

		<p class="text-gray-700 text-sm mt-4 mb-4">
			<strong>Number of Winners:</strong>
			{{ competition.numberOfWinners }}
		</p>

		<p class="text-gray-700 text-sm text-left mb-4">
			<strong>Starts:</strong>
			{{ competition.startDate|date('M d, Y H:i') }}
		</p>
		<p class="text-gray-700 text-sm text-left mb-4">
			<strong>Ends:</strong>
			{{ competition.endDate|date('M d, Y H:i') }}
		</p>
	</p>
</div>

{% if showSubmitButton %}
	<div class="mt-auto pt-4 border-t border-gray-100">
		<a href="{{ path('public_competition_submit', {'id': competition.id}) }}" class="inline-block w-full text-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-300 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
			Δήλωση Συμμετοχής
		</a>
	</div>
{% endif %}</div>
