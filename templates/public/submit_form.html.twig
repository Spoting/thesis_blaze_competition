{# templates/public/competition_submit.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}
	{{ competition.title }}
	- Δήλωση Συμμετοχής
{% endblock %}

{% block body %}
	<div class="container mx-auto p-4 font-sans antialiased">
		<h1 class="text-3xl font-bold text-gray-900 mb-6 text-center">
			{{ competition.title }}
			- Δήλωση Συμμετοχής
		</h1>

		<div
			class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start mb-8">
			<div
				class="md:col-span-1">
				{% include 'public/_competition_item.html.twig' with {
                    'competition': competition,
                    'statusLabels': statusLabels
                } %}
			</div>

			<div class="md:col-span-1">
				<div class="bg-white p-8 rounded-xl shadow-lg border border-gray-200">
					{{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}

					{% for child in form.children %}
						{% if child.vars.name != 'submit' and child.vars.name != 'competition_id' %}
							<div class="form-group">
								{{ form_row(child, {
                                        'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-1'},
                                        'attr': {
                                            'class': 'block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base'
                                        }
                                    }) }}
							</div>
						{% endif %}
					{% endfor %}

					{{ form_widget(form.competition_id) }}

					<button type="submit" class="mt-8 w-full bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-300 text-lg font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 shadow-md">
						{{ form.submit.vars.label }}
					</button>

					{# {{ form_end(form) }} #}
                    {{ form_end(form, {'render_rest': false}) }}
				</div>
			</div>
		</div>

		{# Back to list link, centered below the two columns #}
		<p class="text-center mt-8">
			<a href="{{ path('public_competitions_list') }}" class="inline-block text-blue-600 hover:underline hover:text-blue-800 transition-colors duration-300">
				<i class="fa-solid fa-arrow-left mr-2"></i>Επιστροφή στη λίστα διαγωνισμών
			</a>
		</p>
	</div>
{% endblock %}
