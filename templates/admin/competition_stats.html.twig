{# templates/admin/competition_stats.html.twig #}
{# This is the main page template for displaying a single competition's statistics. #}
{# It extends EasyAdmin's content page layout. #}
{% extends '@EasyAdmin/page/content.html.twig' %}

{% block page_title %}
    {{ competition.title }} Statistics
{% endblock %}

{% block content %}
    <div class="ea-content-body">
        <div class="card p-4">
            <h2 class="text-xl font-semibold mb-4">Submission Trends Over Time</h2>
            
            {# This partial will render the canvas and manage its Mercure updates. #}
            {% include 'admin/_competition_chart_block.html.twig' with {
                chart: chart,
                mercureUrl: mercureUrl,
                competitionTitle: competition.title,
            } %}

            <p class="mt-4 text-gray-600">
                This graph displays the trend of initiated and processed submissions over time.
            </p>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% block importmap %}{{ importmap('admin_app') }}{% endblock %}
{% endblock %}